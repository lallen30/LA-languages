<ion-header [translucent]="true">
  <ion-toolbar>
    <ion-buttons slot="start">
      <ion-button (click)="goBack()">
        <ion-icon name="arrow-back"></ion-icon>
      </ion-button>
    </ion-buttons>
    <ion-title>{{ 'help.title' | translate }}</ion-title>
  </ion-toolbar>
</ion-header>

<ion-content [fullscreen]="true">
  <ion-header collapse="condense">
    <ion-toolbar>
      <ion-title size="large">{{ 'help.title' | translate }}</ion-title>
    </ion-toolbar>
  </ion-header>

  <!-- Welcome -->
  <ion-card>
    <ion-card-header>
      <ion-card-title>
        <ion-icon name="sparkles" slot="start"></ion-icon>
        {{ 'help.welcomeTitle' | translate }}
      </ion-card-title>
    </ion-card-header>
    <ion-card-content>
      <p>{{ 'help.welcomeDesc' | translate }}</p>
      
      <h4>{{ 'help.mainFeatures' | translate }}</h4>
      <ul>
        <li><strong>{{ 'help.flashcardDecks' | translate }}</strong> - {{ 'help.flashcardDecksDesc' | translate }}</li>
        <li><strong>{{ 'help.aiStories' | translate }}</strong> - {{ 'help.aiStoriesDesc' | translate }}</li>
        <li><strong>{{ 'help.textToSpeech' | translate }}</strong> - {{ 'help.textToSpeechDesc' | translate }}</li>
        <li><strong>{{ 'help.progressTracking' | translate }}</strong> - {{ 'help.progressTrackingDesc' | translate }}</li>
      </ul>
    </ion-card-content>
  </ion-card>

  <!-- Spaced Repetition System -->
  <ion-card>
    <ion-card-header>
      <ion-card-title>
        <ion-icon name="library" slot="start"></ion-icon>
        {{ 'help.spacedRepTitle' | translate }}
      </ion-card-title>
    </ion-card-header>
    <ion-card-content>
      <p>{{ 'help.spacedRepDesc' | translate }}</p>
      
      <h4>{{ 'help.howItWorks' | translate }}</h4>
      <ul>
        <li><strong>{{ 'help.newCards' | translate }}</strong> {{ 'help.newCardsDesc' | translate }}</li>
        <li><strong>{{ 'help.easyCards' | translate }}</strong> {{ 'help.easyCardsDesc' | translate }}</li>
        <li><strong>{{ 'help.goodCards' | translate }}</strong> {{ 'help.goodCardsDesc' | translate }}</li>
        <li><strong>{{ 'help.hardCards' | translate }}</strong> {{ 'help.hardCardsDesc' | translate }}</li>
        <li><strong>{{ 'help.dontKnowCards' | translate }}</strong> {{ 'help.dontKnowCardsDesc' | translate }}</li>
      </ul>

      <ion-note color="primary">
        <ion-icon name="information-circle" slot="start"></ion-icon>
        {{ 'help.algorithmNote' | translate }}
      </ion-note>

      <h4>{{ 'help.masteredCardsTitle' | translate }}</h4>
      <p>{{ 'help.masteredCardsDesc' | translate }}</p>
      <ul>
        <li>{{ 'help.masteredCriteria1' | translate }}</li>
        <li>{{ 'help.masteredCriteria2' | translate }}</li>
      </ul>
      <p>{{ 'help.masteredExplanation' | translate }}</p>
    </ion-card-content>
  </ion-card>
  <!-- Study Session Guide -->
  <ion-card>
    <ion-card-header>
      <ion-card-title class="study-session-guide">
        <ion-icon name="school" slot="start"></ion-icon>
        {{ 'help.studySessionTitle' | translate }}
      </ion-card-title>
    </ion-card-header>
    <ion-card-content>
      <h4>{{ 'help.duringStudy' | translate }}</h4>
      <div class="response-guide">
        <div class="response-item">
          <ion-button size="small" color="success" fill="outline">
            <ion-icon name="checkmark" slot="start"></ion-icon>
            {{ 'help.easy' | translate }}
          </ion-button>
          <span>{{ 'help.easyResponse' | translate }}</span>
        </div>
        <div class="response-item">
          <ion-button size="small" color="primary" fill="outline">
            <ion-icon name="thumbs-up" slot="start"></ion-icon>
            {{ 'help.good' | translate }}
          </ion-button>
          <span>{{ 'help.goodResponse' | translate }}</span>
        </div>
        <div class="response-item">
          <ion-button size="small" color="warning" fill="outline">
            <ion-icon name="thumbs-down" slot="start"></ion-icon>
            {{ 'help.hard' | translate }}
          </ion-button>
          <span>{{ 'help.hardResponse' | translate }}</span>
        </div>
        <div class="response-item">
          <ion-button size="small" color="danger" fill="outline">
            <ion-icon name="close" slot="start"></ion-icon>
            {{ 'help.again' | translate }}
          </ion-button>
          <span>{{ 'help.againResponse' | translate }}</span>
        </div>
      </div>

      <h4>{{ 'help.intraSessionTitle' | translate }}</h4>
      <p>{{ 'help.intraSessionDesc' | translate }}</p>
      <ul>
        <li>{{ 'help.hardReappear' | translate }}</li>
        <li>{{ 'help.dontKnowReappear' | translate }}</li>
      </ul>
    </ion-card-content>
  </ion-card>

  <!-- Session Completion -->
  <ion-card>
    <ion-card-header>
      <ion-card-title>
        <ion-icon name="checkmark-circle" slot="start"></ion-icon>
        {{ 'help.sessionCompleteTitle' | translate }}
      </ion-card-title>
    </ion-card-header>
    <ion-card-content>
      <p>{{ 'help.sessionCompleteDesc' | translate }}</p>
      
      <div class="completion-options">
        <div class="option-item">
          <ion-button size="small" color="tertiary" fill="outline">{{ 'help.reviewMissedBtn' | translate }}</ion-button>
          <span>{{ 'help.reviewMissedDesc' | translate }}</span>
        </div>
        <div class="option-item">
          <ion-button size="small" color="primary" fill="outline">{{ 'help.studyMoreBtn' | translate }}</ion-button>
          <span>{{ 'help.studyMoreDesc' | translate }}</span>
        </div>
        <div class="option-item">
          <ion-button size="small" color="medium" fill="outline">{{ 'help.finishBtn' | translate }}</ion-button>
          <span>{{ 'help.finishDesc' | translate }}</span>
        </div>
      </div>
    </ion-card-content>
  </ion-card>

  <!-- Decks & Cards -->
  <ion-card>
    <ion-card-header>
      <ion-card-title>
        <ion-icon name="albums" slot="start"></ion-icon>
        {{ 'help.decksCardsTitle' | translate }}
      </ion-card-title>
    </ion-card-header>
    <ion-card-content>
      <h4>{{ 'help.creatingDecks' | translate }}</h4>
      <p>{{ 'help.creatingDecksDesc' | translate }}</p>
      <ol>
        <li>{{ 'help.deckStep1' | translate }}</li>
        <li>{{ 'help.deckStep2' | translate }}</li>
        <li>{{ 'help.deckStep3' | translate }}</li>
        <li>{{ 'help.deckStep4' | translate }}</li>
      </ol>

      <h4>{{ 'help.cardTypes' | translate }}</h4>
      <ul>
        <li><strong>{{ 'help.pictureWordType' | translate }}</strong> {{ 'help.pictureWordDesc' | translate }}</li>
        <li><strong>{{ 'help.fillBlankType' | translate }}</strong> {{ 'help.fillBlankDesc' | translate }}</li>
        <li><strong>{{ 'help.translateType' | translate }}</strong> {{ 'help.translateDesc' | translate }}</li>
      </ul>

      <h4>{{ 'help.addingCards' | translate }}</h4>
      <ol>
        <li>{{ 'help.addCardStep1' | translate }}</li>
        <li>{{ 'help.addCardStep2' | translate }}</li>
        <li>{{ 'help.addCardStep3' | translate }}</li>
        <li>{{ 'help.addCardStep4' | translate }}</li>
      </ol>

      <h4>{{ 'help.managingCards' | translate }}</h4>
      <ul>
        <li>{{ 'help.manageDeck' | translate }}</li>
        <li>{{ 'help.resetProgress' | translate }}</li>
        <li>{{ 'help.importExport' | translate }}</li>
      </ul>
    </ion-card-content>
  </ion-card>

  <!-- AI Stories -->
  <ion-card class="ai-stories-card">
    <ion-card-header>
      <ion-card-title>
        <ion-icon name="book" slot="start"></ion-icon>
        {{ 'help.aiStoriesSectionTitle' | translate }}
      </ion-card-title>
    </ion-card-header>
    <ion-card-content>
      <p>{{ 'help.aiStoriesSectionDesc' | translate }}</p>

      <h4>{{ 'help.storyCategories' | translate }}</h4>
      <p>{{ 'help.storyCategoriesDesc' | translate }}</p>
      <ul>
        <li>{{ 'help.storyCategoryTip1' | translate }}</li>
        <li>{{ 'help.storyCategoryTip2' | translate }}</li>
      </ul>

      <h4>{{ 'help.wordCategoriesTitle' | translate }}</h4>
      <p>{{ 'help.wordCategoriesDesc' | translate }}</p>
      <ul>
        <li>{{ 'help.wordCategoryTip1' | translate }}</li>
        <li>{{ 'help.wordCategoryTip2' | translate }}</li>
        <li>{{ 'help.wordCategoryTip3' | translate }}</li>
      </ul>

      <h4>{{ 'help.generatingStories' | translate }}</h4>
      <ol>
        <li>{{ 'help.genStoryStep1' | translate }}</li>
        <li>{{ 'help.genStoryStep2' | translate }}</li>
        <li>{{ 'help.genStoryStep3' | translate }}</li>
        <li>{{ 'help.genStoryStep4' | translate }}</li>
      </ol>

      <h4>{{ 'help.readingStories' | translate }}</h4>
      <ul>
        <li>{{ 'help.readStoryTip1' | translate }}</li>
        <li>{{ 'help.readStoryTip2' | translate }}</li>
        <li>{{ 'help.readStoryTip3' | translate }}</li>
        <li>{{ 'help.readStoryTip4' | translate }}</li>
      </ul>

      <h4>{{ 'help.exportImportStories' | translate }}</h4>
      <ul>
        <li>{{ 'help.exportStoryTip1' | translate }}</li>
        <li>{{ 'help.exportStoryTip2' | translate }}</li>
        <li>{{ 'help.exportStoryTip3' | translate }}</li>
      </ul>
    </ion-card-content>
  </ion-card>

  <!-- Data Backup & Restore -->
  <ion-card>
    <ion-card-header>
      <ion-card-title>
        <ion-icon name="cloud-download" slot="start"></ion-icon>
        {{ 'help.dataManagementTitle' | translate }}
      </ion-card-title>
    </ion-card-header>
    <ion-card-content>
      <p>{{ 'help.dataManagementDesc' | translate }}</p>

      <h4>{{ 'help.exportAllData' | translate }}</h4>
      <p>{{ 'help.exportAllDataDesc' | translate }}</p>
      <ul>
        <li>{{ 'help.exportItem1' | translate }}</li>
        <li>{{ 'help.exportItem2' | translate }}</li>
        <li>{{ 'help.exportItem3' | translate }}</li>
        <li>{{ 'help.exportItem4' | translate }}</li>
        <li>{{ 'help.exportItem5' | translate }}</li>
      </ul>

      <h4>{{ 'help.importReplaceData' | translate }}</h4>
      <p>{{ 'help.importReplaceDesc' | translate }}</p>

      <ion-note color="warning">
        <ion-icon name="warning" slot="start"></ion-icon>
        <div>
          {{ 'help.importWarning' | translate }}
        </div>
      </ion-note>

      <h4>{{ 'help.importMultipleFile' | translate }}</h4>
      <p>{{ 'help.importMultipleFileDesc' | translate }}</p>

      <h4>{{ 'help.importMultipleUrl' | translate }}</h4>
      <p>{{ 'help.importMultipleUrlDesc' | translate }}</p>

      <h4>{{ 'help.resetSettingsHelp' | translate }}</h4>
      <p>{{ 'help.resetSettingsDesc' | translate }}</p>

      <h4>{{ 'help.deleteAllDataHelp' | translate }}</h4>
      <p>{{ 'help.deleteAllDataDesc' | translate }}</p>

      <ion-note color="primary">
        <ion-icon name="bulb" slot="start"></ion-icon>
        {{ 'help.backupTip' | translate }}
      </ion-note>
    </ion-card-content>
  </ion-card>

  <div class="settings-spacer"></div>
  <!-- Settings Guide -->
  <ion-card class="settings-card">
    <ion-card-header>
      <ion-card-title>
        <ion-icon name="settings" slot="start"></ion-icon>
        {{ 'help.settingsTitle' | translate }}
      </ion-card-title>
    </ion-card-header>
    <ion-card-content>
      <h4>{{ 'help.languageSettingsHelp' | translate }}</h4>
      <ul>
        <li>{{ 'help.nativeLanguageHelp' | translate }}</li>
        <li>{{ 'help.targetLanguageHelp' | translate }}</li>
      </ul>

      <h4>{{ 'help.ttsSettingsHelp' | translate }}</h4>
      <ul>
        <li>{{ 'help.voiceSelection' | translate }}</li>
        <li>{{ 'help.speechRateHelp' | translate }}</li>
        <li>{{ 'help.autoSpeakHelp' | translate }}</li>
      </ul>

      <h4>{{ 'help.studySettingsHelp' | translate }}</h4>
      <ul>
        <li>{{ 'help.maxCardsHelp' | translate }}</li>
        <li>{{ 'help.remindersHelp' | translate }}</li>
      </ul>

      <h4>{{ 'help.appearanceHelp' | translate }}</h4>
      <ul>
        <li>{{ 'help.darkModeHelp' | translate }}</li>
        <li>{{ 'help.colorCustomization' | translate }}</li>
      </ul>

      <ion-note color="success">
        <ion-icon name="bulb" slot="start"></ion-icon>
        {{ 'help.settingsTip' | translate }}
      </ion-note>
    </ion-card-content>
  </ion-card>

  <!-- Tips & Best Practices -->
  <ion-card>
    <ion-card-header>
      <ion-card-title class="tips-title">
        <ion-icon name="star" slot="start"></ion-icon>
        {{ 'help.tipsTitle' | translate }}
      </ion-card-title>
    </ion-card-header>
    <ion-card-content>
      <div class="tips-list">
        <div class="tip-item">
          <ion-icon name="time" color="primary"></ion-icon>
          <div>
            <strong>{{ 'help.studyConsistently' | translate }}</strong> {{ 'help.studyConsistentlyDesc' | translate }}
          </div>
        </div>
        
        <div class="tip-item">
          <ion-icon name="trending-up" color="success"></ion-icon>
          <div>
            <strong>{{ 'help.beHonest' | translate }}</strong> {{ 'help.beHonestDesc' | translate }}
          </div>
        </div>
        
        <div class="tip-item">
          <ion-icon name="book" color="tertiary"></ion-icon>
          <div>
            <strong>{{ 'help.readStories' | translate }}</strong> {{ 'help.readStoriesDesc' | translate }}
          </div>
        </div>
        
        <div class="tip-item">
          <ion-icon name="volume-high" color="medium"></ion-icon>
          <div>
            <strong>{{ 'help.useAudio' | translate }}</strong> {{ 'help.useAudioDesc' | translate }}
          </div>
        </div>
        
        <div class="tip-item">
          <ion-icon name="cloud-upload" color="warning"></ion-icon>
          <div>
            <strong>{{ 'help.backupRegularly' | translate }}</strong> {{ 'help.backupRegularlyDesc' | translate }}
          </div>
        </div>
        
        <div class="tip-item">
          <ion-icon name="library" color="primary"></ion-icon>
          <div>
            <strong>{{ 'help.organizeContent' | translate }}</strong> {{ 'help.organizeContentDesc' | translate }}
          </div>
        </div>
      </div>
    </ion-card-content>
  </ion-card>

  <!-- Getting Started -->
  <ion-card>
    <ion-card-header>
      <ion-card-title>
        <ion-icon name="rocket" slot="start"></ion-icon>
        {{ 'help.gettingStartedTitle' | translate }}
      </ion-card-title>
    </ion-card-header>
    <ion-card-content>
      <h4>{{ 'help.quickStartGuide' | translate }}</h4>
      <ol>
        <li>{{ 'help.quickStep1' | translate }}</li>
        <li>{{ 'help.quickStep2' | translate }}</li>
        <li>{{ 'help.quickStep3' | translate }}</li>
        <li>{{ 'help.quickStep4' | translate }}</li>
        <li>{{ 'help.quickStep5' | translate }}</li>
        <li>{{ 'help.quickStep6' | translate }}</li>
        <li>{{ 'help.quickStep7' | translate }}</li>
        <li>{{ 'help.quickStep8' | translate }}</li>
      </ol>
      
      <ion-note color="success">
        <ion-icon name="heart" slot="start"></ion-icon>
        {{ 'help.rememberNote' | translate }}
      </ion-note>
    </ion-card-content>
  </ion-card>

</ion-content>
